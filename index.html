
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>事故点位地图</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        html, body, #map { height: 100%; margin: 0; padding: 0; }

        .watermark {
            position: absolute;
            color: rgba(0, 0, 0, 0.15);
            font-size: 32px;
            font-weight: bold;
            transform: rotate(-30deg);
            pointer-events: none;
            z-index: 999;
        }

        .wm-zj1 { top: 15%; left: 20%; }
        .wm-zj2 { top: 35%; left: 50%; }
        .wm-zj3 { top: 55%; left: 30%; }
        .wm-zj4 { top: 75%; left: 65%; }
        .wm-zj5 { top: 85%; left: 40%; }

        .wm-tao1 { bottom: 10px; left: 10px; transform: none; font-size: 16px; color: rgba(0,0,0,0.6); }
        .wm-tao2 { bottom: 10px; right: 10px; transform: none; font-size: 16px; color: rgba(0,0,0,0.6); }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
</head>
<body>
    <div id="map"></div>

    <div class="watermark wm-zj1">浙江省港航管理中心</div>
    <div class="watermark wm-zj2">浙江省港航管理中心</div>
    <div class="watermark wm-zj3">浙江省港航管理中心</div>
    <div class="watermark wm-zj4">浙江省港航管理中心</div>
    <div class="watermark wm-zj5">浙江省港航管理中心</div>

    <div class="watermark wm-tao1">陶越 CCSC 15168318167</div>
    <div class="watermark wm-tao2">陶越 CCSC 15168318167</div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        const map = L.map('map').setView([29.5, 119.5], 5);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);

        fetch('points.json')
            .then(res => res.json())
            .then(data => {
                data.forEach(item => {
                    if (!item.lat || !item.lng) return;
                    const marker = L.marker([item.lat, item.lng]).addTo(map);
                    const popup = `
                        <b>${item.title}</b><br/>
                        船舶：${item.ship || "未知"}<br/>
                        类型：${item.type || "未知"}<br/>
                        涉及浙江：${item.zhejiang || "否"}<br/>
                        ${item.summary || ""}
                    `;
                    marker.bindPopup(popup);
                });
            })
            .catch(err => console.error('加载 points.json 出错', err));
    </script>
</body>
</html>

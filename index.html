
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>事故点位地图</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        #map { height: 100vh; }
        .watermark {
            position: absolute;
            color: rgba(0,0,0,0.2);
            font-size: 24px;
            transform: rotate(-30deg);
            pointer-events: none;
            white-space: nowrap;
        }
        .top-left { top: 20%; left: 10%; }
        .top-right { top: 20%; right: 10%; }
        .bottom-left { bottom: 20%; left: 10%; }
        .bottom-right { bottom: 20%; right: 10%; }
        .center { top: 50%; left: 45%; }
    </style>
</head>
<body>
<div id="map"></div>
<div class="watermark top-left">陶越 CCSC 15168318167</div>
<div class="watermark top-right">陶越 CCSC 15168318167</div>
<div class="watermark bottom-left">陶越 CCSC 15168318167</div>
<div class="watermark bottom-right">陶越 CCSC 15168318167</div>
<div class="watermark center">陶越 CCSC 15168318167</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    const map = L.map('map').setView([29.5, 121.5], 6);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Leaflet | Data by OpenStreetMap'
    }).addTo(map);

    fetch('points.json')
      .then(response => response.json())
      .then(data => {
        data.forEach(point => {
            if (point.lat && point.lng) {
                const popupText = `
                    <b>事故时间:</b> ${point.time}<br/>
                    <b>类型:</b> ${point.type}<br/>
                    <b>等级:</b> ${point.level}<br/>
                    <b>船舶:</b> ${point.ship}<br/>
                    <b>浙江相关:</b> ${point.is_zhejiang}<br/>
                    <b>概要:</b> ${point.description}<br/>
                    <b>挂未管:</b> ${point.unregulated}<br/>
                    <b>代不管:</b> ${point.nominal}<br/>
                    <b>管理情况:</b> ${point.valid_partial}<br/>
                    <b>三无船:</b> ${point.three_no}
                `;
                L.marker([point.lat, point.lng]).addTo(map).bindPopup(popupText);
            }
        });
      });
</script>
</body>
</html>
